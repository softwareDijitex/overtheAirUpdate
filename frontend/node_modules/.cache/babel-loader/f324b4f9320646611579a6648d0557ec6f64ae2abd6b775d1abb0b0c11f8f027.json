{"ast":null,"code":"import _objectSpread from\"/Users/nidhi/Documents/Inoweave/OnTheFlyUpdate/Code/cursor/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from\"react\";import{Container,Row,Col,Card,Button,Modal,Form,Table,Badge,Alert,Spinner}from\"react-bootstrap\";import{Plus,Pencil,Trash,HddNetwork,FileText,Download,Eye}from\"react-bootstrap-icons\";import axios from\"axios\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const MachineManagement=_ref=>{let{customerId,isAdmin=false,onMachineSelect,selectedMachine}=_ref;const[machines,setMachines]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(\"\");const[showModal,setShowModal]=useState(false);const[editingMachine,setEditingMachine]=useState(null);const[formData,setFormData]=useState({name:\"\",mac_address:\"\",description:\"\"});const[successMessage,setSuccessMessage]=useState(\"\");const fetchMachines=async()=>{try{setLoading(true);setError(\"\");// Clear any previous errors\nconst endpoint=isAdmin?\"/api/machines/admin/customer/\".concat(customerId):\"/api/machines/customer/\".concat(customerId);const response=await axios.get(endpoint);setMachines(response.data.machines||[]);}catch(err){// Only show error for actual API failures (4xx/5xx status codes)\nif(err.response&&err.response.status>=400){setError(\"Failed to fetch machines\");console.error(\"Error fetching machines:\",err);}else{// For network errors or other issues, still show error\nsetError(\"Failed to fetch machines\");console.error(\"Error fetching machines:\",err);}}finally{setLoading(false);}};useEffect(()=>{fetchMachines();},[customerId,isAdmin]);useEffect(()=>{if(successMessage){const timer=setTimeout(()=>setSuccessMessage(\"\"),3000);return()=>clearTimeout(timer);}},[successMessage]);const handleSubmit=async e=>{e.preventDefault();try{if(editingMachine){// Update existing machine\nconst endpoint=isAdmin?\"/api/machines/admin/\".concat(editingMachine.id):\"/api/machines/customer/\".concat(customerId,\"/\").concat(editingMachine.id);await axios.put(endpoint,formData);setSuccessMessage(\"Machine updated successfully\");}else{// Create new machine\nconst endpoint=isAdmin?\"/api/machines/admin/\":\"/api/machines/customer/\".concat(customerId);const requestData=isAdmin?_objectSpread(_objectSpread({},formData),{},{customer_id:customerId}):formData;await axios.post(endpoint,requestData);setSuccessMessage(\"Machine created successfully\");}setShowModal(false);setEditingMachine(null);setFormData({name:\"\",mac_address:\"\",description:\"\"});fetchMachines();}catch(err){var _err$response,_err$response$data;setError(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.error)||\"Failed to save machine\");console.error(\"Error saving machine:\",err);}};const handleEdit=machine=>{setEditingMachine(machine);setFormData({name:machine.name,mac_address:machine.mac_address,description:machine.description});setShowModal(true);};const handleDelete=async machineId=>{if(!window.confirm(\"Are you sure you want to delete this machine?\")){return;}try{const endpoint=isAdmin?\"/api/machines/admin/\".concat(machineId):\"/api/machines/customer/\".concat(customerId,\"/\").concat(machineId);await axios.delete(endpoint);setSuccessMessage(\"Machine deleted successfully\");// If the deleted machine was selected, clear the selection\nif(selectedMachine&&selectedMachine.id===machineId){onMachineSelect(null);}fetchMachines();}catch(err){var _err$response2,_err$response2$data;setError(((_err$response2=err.response)===null||_err$response2===void 0?void 0:(_err$response2$data=_err$response2.data)===null||_err$response2$data===void 0?void 0:_err$response2$data.error)||\"Failed to delete machine\");console.error(\"Error deleting machine:\",err);}};const handleCreate=()=>{setEditingMachine(null);setFormData({name:\"\",mac_address:\"\",description:\"\"});setShowModal(true);};const handleMachineClick=machine=>{if(onMachineSelect){onMachineSelect(machine);}};const formatDate=dateString=>{return new Date(dateString).toLocaleDateString();};if(loading){return/*#__PURE__*/_jsx(Container,{className:\"text-center mt-4\",children:/*#__PURE__*/_jsx(Spinner,{animation:\"border\",role:\"status\",children:/*#__PURE__*/_jsx(\"span\",{className:\"visually-hidden\",children:\"Loading...\"})})});}return/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsxs(Row,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsxs(\"h2\",{children:[/*#__PURE__*/_jsx(HddNetwork,{className:\"me-2\"}),\"Machine Management\"]})}),/*#__PURE__*/_jsx(Col,{xs:\"auto\",children:/*#__PURE__*/_jsxs(Button,{variant:\"primary\",onClick:handleCreate,children:[/*#__PURE__*/_jsx(Plus,{className:\"me-1\"}),\"Add Machine\"]})})]}),error&&/*#__PURE__*/_jsx(Alert,{variant:\"danger\",dismissible:true,onClose:()=>setError(\"\"),children:error}),successMessage&&/*#__PURE__*/_jsx(Alert,{variant:\"success\",dismissible:true,onClose:()=>setSuccessMessage(\"\"),children:successMessage}),machines.length===0?/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(Card.Body,{className:\"text-center\",children:[/*#__PURE__*/_jsx(HddNetwork,{size:48,className:\"text-muted mb-3\"}),/*#__PURE__*/_jsx(\"h5\",{children:\"No machines found\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted\",children:isAdmin?\"This customer has no machines yet.\":\"You have no machines yet. Add your first machine to get started.\"}),/*#__PURE__*/_jsxs(Button,{variant:\"primary\",onClick:handleCreate,children:[/*#__PURE__*/_jsx(Plus,{className:\"me-1\"}),\"Add Machine\"]})]})}):/*#__PURE__*/_jsx(Row,{children:machines.map(machine=>/*#__PURE__*/_jsx(Col,{lg:6,xl:4,className:\"mb-3\",children:/*#__PURE__*/_jsxs(Card,{className:\"machine-card \".concat(selectedMachine&&selectedMachine.id===machine.id?\"border-primary\":\"\"),style:{cursor:\"pointer\"},onClick:()=>handleMachineClick(machine),children:[/*#__PURE__*/_jsxs(Card.Header,{className:\"d-flex justify-content-between align-items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(HddNetwork,{className:\"me-2\"}),/*#__PURE__*/_jsx(\"strong\",{children:machine.name})]}),/*#__PURE__*/_jsx(Badge,{bg:\"secondary\",children:machine.mac_address})]}),/*#__PURE__*/_jsxs(Card.Body,{children:[machine.description&&/*#__PURE__*/_jsx(\"p\",{className:\"text-muted mb-2\",children:machine.description}),/*#__PURE__*/_jsxs(\"small\",{className:\"text-muted\",children:[\"Created: \",formatDate(machine.created_at)]})]}),/*#__PURE__*/_jsx(Card.Footer,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between\",children:[/*#__PURE__*/_jsxs(Button,{variant:\"outline-primary\",size:\"sm\",onClick:e=>{e.stopPropagation();handleEdit(machine);},children:[/*#__PURE__*/_jsx(Pencil,{className:\"me-1\"}),\"Edit\"]}),/*#__PURE__*/_jsxs(Button,{variant:\"outline-danger\",size:\"sm\",onClick:e=>{e.stopPropagation();handleDelete(machine.id);},children:[/*#__PURE__*/_jsx(Trash,{className:\"me-1\"}),\"Delete\"]})]})})]})},machine.id))}),/*#__PURE__*/_jsxs(Modal,{show:showModal,onHide:()=>setShowModal(false),children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,children:/*#__PURE__*/_jsx(Modal.Title,{children:editingMachine?\"Edit Machine\":\"Add New Machine\"})}),/*#__PURE__*/_jsxs(Form,{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(Modal.Body,{children:[/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Machine Name *\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",value:formData.name,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{name:e.target.value})),required:true,placeholder:\"Enter machine name\"})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"MAC Address *\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",value:formData.mac_address,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{mac_address:e.target.value})),required:true,placeholder:\"e.g. 00:1A:2B:3C:4D:5E\"}),/*#__PURE__*/_jsx(Form.Text,{className:\"text-muted\",children:\"Must be unique across all customers. Format: XX:XX:XX:XX:XX:XX\"})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Description\"}),/*#__PURE__*/_jsx(Form.Control,{as:\"textarea\",rows:3,value:formData.description,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{description:e.target.value})),placeholder:\"Enter machine description\"})]})]}),/*#__PURE__*/_jsxs(Modal.Footer,{children:[/*#__PURE__*/_jsx(Button,{variant:\"secondary\",onClick:()=>setShowModal(false),children:\"Cancel\"}),/*#__PURE__*/_jsxs(Button,{variant:\"primary\",type:\"submit\",children:[editingMachine?\"Update\":\"Create\",\" Machine\"]})]})]})]})]});};export default MachineManagement;","map":{"version":3,"names":["React","useState","useEffect","Container","Row","Col","Card","Button","Modal","Form","Table","Badge","Alert","Spinner","Plus","Pencil","Trash","HddNetwork","FileText","Download","Eye","axios","jsx","_jsx","jsxs","_jsxs","MachineManagement","_ref","customerId","isAdmin","onMachineSelect","selectedMachine","machines","setMachines","loading","setLoading","error","setError","showModal","setShowModal","editingMachine","setEditingMachine","formData","setFormData","name","mac_address","description","successMessage","setSuccessMessage","fetchMachines","endpoint","concat","response","get","data","err","status","console","timer","setTimeout","clearTimeout","handleSubmit","e","preventDefault","id","put","requestData","_objectSpread","customer_id","post","_err$response","_err$response$data","handleEdit","machine","handleDelete","machineId","window","confirm","delete","_err$response2","_err$response2$data","handleCreate","handleMachineClick","formatDate","dateString","Date","toLocaleDateString","className","children","animation","role","xs","variant","onClick","dismissible","onClose","length","Body","size","map","lg","xl","style","cursor","Header","bg","created_at","Footer","stopPropagation","show","onHide","closeButton","Title","onSubmit","Group","Label","Control","type","value","onChange","target","required","placeholder","Text","as","rows"],"sources":["/Users/nidhi/Documents/Inoweave/OnTheFlyUpdate/Code/cursor/frontend/src/components/MachineManagement.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport {\n  Container,\n  Row,\n  Col,\n  Card,\n  Button,\n  Modal,\n  Form,\n  Table,\n  Badge,\n  Alert,\n  Spinner,\n} from \"react-bootstrap\";\nimport {\n  Plus,\n  Pencil,\n  Trash,\n  HddNetwork,\n  FileText,\n  Download,\n  Eye,\n} from \"react-bootstrap-icons\";\nimport axios from \"axios\";\n\nconst MachineManagement = ({\n  customerId,\n  isAdmin = false,\n  onMachineSelect,\n  selectedMachine,\n}) => {\n  const [machines, setMachines] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(\"\");\n  const [showModal, setShowModal] = useState(false);\n  const [editingMachine, setEditingMachine] = useState(null);\n  const [formData, setFormData] = useState({\n    name: \"\",\n    mac_address: \"\",\n    description: \"\",\n  });\n  const [successMessage, setSuccessMessage] = useState(\"\");\n\n  const fetchMachines = async () => {\n    try {\n      setLoading(true);\n      setError(\"\"); // Clear any previous errors\n      const endpoint = isAdmin\n        ? `/api/machines/admin/customer/${customerId}`\n        : `/api/machines/customer/${customerId}`;\n\n      const response = await axios.get(endpoint);\n      setMachines(response.data.machines || []);\n    } catch (err) {\n      // Only show error for actual API failures (4xx/5xx status codes)\n      if (err.response && err.response.status >= 400) {\n        setError(\"Failed to fetch machines\");\n        console.error(\"Error fetching machines:\", err);\n      } else {\n        // For network errors or other issues, still show error\n        setError(\"Failed to fetch machines\");\n        console.error(\"Error fetching machines:\", err);\n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    fetchMachines();\n  }, [customerId, isAdmin]);\n\n  useEffect(() => {\n    if (successMessage) {\n      const timer = setTimeout(() => setSuccessMessage(\"\"), 3000);\n      return () => clearTimeout(timer);\n    }\n  }, [successMessage]);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    try {\n      if (editingMachine) {\n        // Update existing machine\n        const endpoint = isAdmin\n          ? `/api/machines/admin/${editingMachine.id}`\n          : `/api/machines/customer/${customerId}/${editingMachine.id}`;\n\n        await axios.put(endpoint, formData);\n        setSuccessMessage(\"Machine updated successfully\");\n      } else {\n        // Create new machine\n        const endpoint = isAdmin\n          ? `/api/machines/admin/`\n          : `/api/machines/customer/${customerId}`;\n\n        const requestData = isAdmin\n          ? { ...formData, customer_id: customerId }\n          : formData;\n\n        await axios.post(endpoint, requestData);\n        setSuccessMessage(\"Machine created successfully\");\n      }\n\n      setShowModal(false);\n      setEditingMachine(null);\n      setFormData({ name: \"\", mac_address: \"\", description: \"\" });\n      fetchMachines();\n    } catch (err) {\n      setError(err.response?.data?.error || \"Failed to save machine\");\n      console.error(\"Error saving machine:\", err);\n    }\n  };\n\n  const handleEdit = (machine) => {\n    setEditingMachine(machine);\n    setFormData({\n      name: machine.name,\n      mac_address: machine.mac_address,\n      description: machine.description,\n    });\n    setShowModal(true);\n  };\n\n  const handleDelete = async (machineId) => {\n    if (!window.confirm(\"Are you sure you want to delete this machine?\")) {\n      return;\n    }\n\n    try {\n      const endpoint = isAdmin\n        ? `/api/machines/admin/${machineId}`\n        : `/api/machines/customer/${customerId}/${machineId}`;\n\n      await axios.delete(endpoint);\n      setSuccessMessage(\"Machine deleted successfully\");\n\n      // If the deleted machine was selected, clear the selection\n      if (selectedMachine && selectedMachine.id === machineId) {\n        onMachineSelect(null);\n      }\n\n      fetchMachines();\n    } catch (err) {\n      setError(err.response?.data?.error || \"Failed to delete machine\");\n      console.error(\"Error deleting machine:\", err);\n    }\n  };\n\n  const handleCreate = () => {\n    setEditingMachine(null);\n    setFormData({ name: \"\", mac_address: \"\", description: \"\" });\n    setShowModal(true);\n  };\n\n  const handleMachineClick = (machine) => {\n    if (onMachineSelect) {\n      onMachineSelect(machine);\n    }\n  };\n\n  const formatDate = (dateString) => {\n    return new Date(dateString).toLocaleDateString();\n  };\n\n  if (loading) {\n    return (\n      <Container className=\"text-center mt-4\">\n        <Spinner animation=\"border\" role=\"status\">\n          <span className=\"visually-hidden\">Loading...</span>\n        </Spinner>\n      </Container>\n    );\n  }\n\n  return (\n    <Container>\n      <Row className=\"mb-3\">\n        <Col>\n          <h2>\n            <HddNetwork className=\"me-2\" />\n            Machine Management\n          </h2>\n        </Col>\n        <Col xs=\"auto\">\n          <Button variant=\"primary\" onClick={handleCreate}>\n            <Plus className=\"me-1\" />\n            Add Machine\n          </Button>\n        </Col>\n      </Row>\n\n      {error && (\n        <Alert variant=\"danger\" dismissible onClose={() => setError(\"\")}>\n          {error}\n        </Alert>\n      )}\n\n      {successMessage && (\n        <Alert\n          variant=\"success\"\n          dismissible\n          onClose={() => setSuccessMessage(\"\")}\n        >\n          {successMessage}\n        </Alert>\n      )}\n\n      {machines.length === 0 ? (\n        <Card>\n          <Card.Body className=\"text-center\">\n            <HddNetwork size={48} className=\"text-muted mb-3\" />\n            <h5>No machines found</h5>\n            <p className=\"text-muted\">\n              {isAdmin\n                ? \"This customer has no machines yet.\"\n                : \"You have no machines yet. Add your first machine to get started.\"}\n            </p>\n            <Button variant=\"primary\" onClick={handleCreate}>\n              <Plus className=\"me-1\" />\n              Add Machine\n            </Button>\n          </Card.Body>\n        </Card>\n      ) : (\n        <Row>\n          {machines.map((machine) => (\n            <Col key={machine.id} lg={6} xl={4} className=\"mb-3\">\n              <Card\n                className={`machine-card ${\n                  selectedMachine && selectedMachine.id === machine.id\n                    ? \"border-primary\"\n                    : \"\"\n                }`}\n                style={{ cursor: \"pointer\" }}\n                onClick={() => handleMachineClick(machine)}\n              >\n                <Card.Header className=\"d-flex justify-content-between align-items-center\">\n                  <div>\n                    <HddNetwork className=\"me-2\" />\n                    <strong>{machine.name}</strong>\n                  </div>\n                  <Badge bg=\"secondary\">{machine.mac_address}</Badge>\n                </Card.Header>\n                <Card.Body>\n                  {machine.description && (\n                    <p className=\"text-muted mb-2\">{machine.description}</p>\n                  )}\n                  <small className=\"text-muted\">\n                    Created: {formatDate(machine.created_at)}\n                  </small>\n                </Card.Body>\n                <Card.Footer>\n                  <div className=\"d-flex justify-content-between\">\n                    <Button\n                      variant=\"outline-primary\"\n                      size=\"sm\"\n                      onClick={(e) => {\n                        e.stopPropagation();\n                        handleEdit(machine);\n                      }}\n                    >\n                      <Pencil className=\"me-1\" />\n                      Edit\n                    </Button>\n                    <Button\n                      variant=\"outline-danger\"\n                      size=\"sm\"\n                      onClick={(e) => {\n                        e.stopPropagation();\n                        handleDelete(machine.id);\n                      }}\n                    >\n                      <Trash className=\"me-1\" />\n                      Delete\n                    </Button>\n                  </div>\n                </Card.Footer>\n              </Card>\n            </Col>\n          ))}\n        </Row>\n      )}\n\n      {/* Create/Edit Machine Modal */}\n      <Modal show={showModal} onHide={() => setShowModal(false)}>\n        <Modal.Header closeButton>\n          <Modal.Title>\n            {editingMachine ? \"Edit Machine\" : \"Add New Machine\"}\n          </Modal.Title>\n        </Modal.Header>\n        <Form onSubmit={handleSubmit}>\n          <Modal.Body>\n            <Form.Group className=\"mb-3\">\n              <Form.Label>Machine Name *</Form.Label>\n              <Form.Control\n                type=\"text\"\n                value={formData.name}\n                onChange={(e) =>\n                  setFormData({ ...formData, name: e.target.value })\n                }\n                required\n                placeholder=\"Enter machine name\"\n              />\n            </Form.Group>\n            <Form.Group className=\"mb-3\">\n              <Form.Label>MAC Address *</Form.Label>\n              <Form.Control\n                type=\"text\"\n                value={formData.mac_address}\n                onChange={(e) =>\n                  setFormData({ ...formData, mac_address: e.target.value })\n                }\n                required\n                placeholder=\"e.g. 00:1A:2B:3C:4D:5E\"\n              />\n              <Form.Text className=\"text-muted\">\n                Must be unique across all customers. Format: XX:XX:XX:XX:XX:XX\n              </Form.Text>\n            </Form.Group>\n            <Form.Group className=\"mb-3\">\n              <Form.Label>Description</Form.Label>\n              <Form.Control\n                as=\"textarea\"\n                rows={3}\n                value={formData.description}\n                onChange={(e) =>\n                  setFormData({ ...formData, description: e.target.value })\n                }\n                placeholder=\"Enter machine description\"\n              />\n            </Form.Group>\n          </Modal.Body>\n          <Modal.Footer>\n            <Button variant=\"secondary\" onClick={() => setShowModal(false)}>\n              Cancel\n            </Button>\n            <Button variant=\"primary\" type=\"submit\">\n              {editingMachine ? \"Update\" : \"Create\"} Machine\n            </Button>\n          </Modal.Footer>\n        </Form>\n      </Modal>\n    </Container>\n  );\n};\n\nexport default MachineManagement;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}