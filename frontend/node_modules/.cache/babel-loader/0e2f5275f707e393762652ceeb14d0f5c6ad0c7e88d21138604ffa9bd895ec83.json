{"ast":null,"code":"var _jsxFileName = \"/Users/nidhi/Documents/Inoweave/OnTheFlyUpdate/Code/cursor/frontend/src/components/AdminDashboard.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { Card, Button, Table, Alert, Modal, Badge, Row, Col, Container, Nav, Tab } from \"react-bootstrap\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AdminDashboard = () => {\n  _s();\n  const [customers, setCustomers] = useState([]);\n  const [files, setFiles] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(\"\");\n  const [activeTab, setActiveTab] = useState(\"customers\");\n  const [showCustomerModal, setShowCustomerModal] = useState(false);\n  const [selectedCustomer, setSelectedCustomer] = useState(null);\n  const [selectedCustomerFiles, setSelectedCustomerFiles] = useState([]);\n\n  // File upload state\n  const [selectedFile, setSelectedFile] = useState(null);\n  const [versionNumber, setVersionNumber] = useState(\"\");\n  const [uploading, setUploading] = useState(false);\n  const [success, setSuccess] = useState(\"\");\n  const [selectedCustomerForUpload, setSelectedCustomerForUpload] = useState(\"\");\n  useEffect(() => {\n    fetchData();\n  }, []);\n  const fetchData = async () => {\n    try {\n      const [customersResponse, filesResponse] = await Promise.all([axios.get(\"/api/customers/\"), axios.get(\"/api/files/all\")]);\n      setCustomers(customersResponse.data);\n      setFiles(filesResponse.data);\n    } catch (error) {\n      setError(\"Failed to fetch data\");\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleViewCustomerFiles = async customerId => {\n    try {\n      const response = await axios.get(`/api/files/customer/${customerId}`);\n      setSelectedCustomerFiles(response.data);\n      setSelectedCustomer(customers.find(c => c.customer_id === customerId));\n      setShowCustomerModal(true);\n    } catch (error) {\n      setError(\"Failed to fetch customer files\");\n    }\n  };\n  const handleFileSelect = e => {\n    const file = e.target.files[0];\n    if (file) {\n      if (file.size > 2 * 1024 * 1024) {\n        // 2MB limit\n        setError(\"File size must be less than 2MB\");\n        setSelectedFile(null);\n        return;\n      }\n      setSelectedFile(file);\n      setError(\"\");\n      setVersionNumber(\"1\");\n    }\n  };\n  const handleAdminUpload = async e => {\n    e.preventDefault();\n    if (!selectedFile) {\n      setError(\"Please select a file\");\n      return;\n    }\n    if (!selectedCustomerForUpload) {\n      setError(\"Please select a customer\");\n      return;\n    }\n    if (!versionNumber || versionNumber.trim() === \"\") {\n      setError(\"Please enter a version number\");\n      return;\n    }\n    setUploading(true);\n    setError(\"\");\n    setSuccess(\"\");\n    const formData = new FormData();\n    formData.append(\"file\", selectedFile);\n    formData.append(\"customer_id\", selectedCustomerForUpload);\n    formData.append(\"version\", versionNumber.trim());\n    try {\n      await axios.post(\"/api/files/admin/upload\", formData, {\n        headers: {\n          \"Content-Type\": \"multipart/form-data\"\n        }\n      });\n      setSuccess(\"File uploaded successfully!\");\n      setSelectedFile(null);\n      setVersionNumber(\"\");\n      setSelectedCustomerForUpload(\"\");\n      // Reset the file input\n      const fileInput = document.querySelector('input[type=\"file\"]');\n      if (fileInput) {\n        fileInput.value = \"\";\n      }\n      fetchData();\n    } catch (error) {\n      var _error$response, _error$response$data;\n      const errorMessage = ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.error) || \"Upload failed\";\n      setError(errorMessage);\n\n      // If the error is about version already existing, suggest a new version\n      if (errorMessage.includes(\"already exists\") && errorMessage.includes(\"version\")) {\n        // Try to suggest next version\n        try {\n          const numVersion = parseFloat(versionNumber);\n          if (!isNaN(numVersion)) {\n            setVersionNumber((numVersion + 1).toString());\n          } else {\n            setVersionNumber(versionNumber + \"_1\");\n          }\n        } catch {\n          setVersionNumber(versionNumber + \"_1\");\n        }\n      }\n    } finally {\n      setUploading(false);\n    }\n  };\n  const handleDownloadFile = async (customerId, filename, version) => {\n    try {\n      const response = await axios.get(`/api/files/download/${customerId}/${filename}/${version}`, {\n        responseType: \"blob\"\n      });\n      const url = window.URL.createObjectURL(new Blob([response.data]));\n      const link = document.createElement(\"a\");\n      link.href = url;\n      link.setAttribute(\"download\", `${filename}_v${version}`);\n      document.body.appendChild(link);\n      link.click();\n      link.remove();\n    } catch (error) {\n      setError(\"Download failed\");\n    }\n  };\n  const formatFileSize = bytes => {\n    if (bytes === 0) return \"0 Bytes\";\n    const k = 1024;\n    const sizes = [\"Bytes\", \"KB\", \"MB\", \"GB\"];\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + \" \" + sizes[i];\n  };\n  const formatDate = dateString => {\n    return new Date(dateString).toLocaleString();\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center\",\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(Container, {\n    fluid: true,\n    children: [/*#__PURE__*/_jsxDEV(Row, {\n      children: /*#__PURE__*/_jsxDEV(Col, {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"mb-4\",\n          children: \"Admin Dashboard\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 11\n        }, this), error && /*#__PURE__*/_jsxDEV(Alert, {\n          variant: \"danger\",\n          onClose: () => setError(\"\"),\n          dismissible: true,\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Tab.Container, {\n          activeKey: activeTab,\n          onSelect: k => setActiveTab(k),\n          children: /*#__PURE__*/_jsxDEV(Row, {\n            children: /*#__PURE__*/_jsxDEV(Col, {\n              children: [/*#__PURE__*/_jsxDEV(Nav, {\n                variant: \"tabs\",\n                className: \"mb-4\",\n                children: [/*#__PURE__*/_jsxDEV(Nav.Item, {\n                  children: /*#__PURE__*/_jsxDEV(Nav.Link, {\n                    eventKey: \"customers\",\n                    children: [\"Customers (\", customers.length, \")\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 203,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 202,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Nav.Item, {\n                  children: /*#__PURE__*/_jsxDEV(Nav.Link, {\n                    eventKey: \"files\",\n                    children: [\"All Files (\", files.length, \")\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 208,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 207,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 201,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Tab.Content, {\n                children: [/*#__PURE__*/_jsxDEV(Tab.Pane, {\n                  eventKey: \"customers\",\n                  children: /*#__PURE__*/_jsxDEV(Card, {\n                    children: [/*#__PURE__*/_jsxDEV(Card.Header, {\n                      children: /*#__PURE__*/_jsxDEV(\"h5\", {\n                        children: \"Customer Management\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 218,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 217,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n                      children: customers.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n                        className: \"text-muted\",\n                        children: \"No customers registered yet.\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 222,\n                        columnNumber: 27\n                      }, this) : /*#__PURE__*/_jsxDEV(Table, {\n                        responsive: true,\n                        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                              children: \"Customer ID\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 229,\n                              columnNumber: 33\n                            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                              children: \"Name\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 230,\n                              columnNumber: 33\n                            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                              children: \"Email\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 231,\n                              columnNumber: 33\n                            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                              children: \"Phone\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 232,\n                              columnNumber: 33\n                            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                              children: \"Address\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 233,\n                              columnNumber: 33\n                            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                              children: \"Registered\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 234,\n                              columnNumber: 33\n                            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                              children: \"Actions\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 235,\n                              columnNumber: 33\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 228,\n                            columnNumber: 31\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 227,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                          children: customers.map((customer, index) => /*#__PURE__*/_jsxDEV(\"tr\", {\n                            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                              children: /*#__PURE__*/_jsxDEV(Badge, {\n                                bg: \"secondary\",\n                                children: customer.customer_id\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 242,\n                                columnNumber: 37\n                              }, this)\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 241,\n                              columnNumber: 35\n                            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                              children: customer.name\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 246,\n                              columnNumber: 35\n                            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                              children: customer.email\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 247,\n                              columnNumber: 35\n                            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                              children: customer.phone\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 248,\n                              columnNumber: 35\n                            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                              children: customer.address\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 249,\n                              columnNumber: 35\n                            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                              children: formatDate(customer.created_at)\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 250,\n                              columnNumber: 35\n                            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                              children: /*#__PURE__*/_jsxDEV(Button, {\n                                variant: \"outline-primary\",\n                                size: \"sm\",\n                                onClick: () => handleViewCustomerFiles(customer.customer_id),\n                                children: \"View Files\"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 252,\n                                columnNumber: 37\n                              }, this)\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 251,\n                              columnNumber: 35\n                            }, this)]\n                          }, index, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 240,\n                            columnNumber: 33\n                          }, this))\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 238,\n                          columnNumber: 29\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 226,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 220,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 216,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 215,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Tab.Pane, {\n                  eventKey: \"files\",\n                  children: /*#__PURE__*/_jsxDEV(Card, {\n                    children: [/*#__PURE__*/_jsxDEV(Card.Header, {\n                      children: /*#__PURE__*/_jsxDEV(\"h5\", {\n                        children: \"All Files\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 276,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 275,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n                      children: files.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n                        className: \"text-muted\",\n                        children: \"No files uploaded yet.\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 280,\n                        columnNumber: 27\n                      }, this) : /*#__PURE__*/_jsxDEV(Table, {\n                        responsive: true,\n                        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                              children: \"Customer ID\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 285,\n                              columnNumber: 33\n                            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                              children: \"Filename\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 286,\n                              columnNumber: 33\n                            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                              children: \"Version\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 287,\n                              columnNumber: 33\n                            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                              children: \"File Size\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 288,\n                              columnNumber: 33\n                            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                              children: \"Uploaded\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 289,\n                              columnNumber: 33\n                            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                              children: \"Actions\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 290,\n                              columnNumber: 33\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 284,\n                            columnNumber: 31\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 283,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                          children: files.map((file, index) => /*#__PURE__*/_jsxDEV(\"tr\", {\n                            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                              children: /*#__PURE__*/_jsxDEV(Badge, {\n                                bg: \"secondary\",\n                                children: file.customer_id\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 297,\n                                columnNumber: 37\n                              }, this)\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 296,\n                              columnNumber: 35\n                            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                              children: file.filename\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 301,\n                              columnNumber: 35\n                            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                              children: /*#__PURE__*/_jsxDEV(Badge, {\n                                bg: \"primary\",\n                                children: [\"v\", file.version]\n                              }, void 0, true, {\n                                fileName: _jsxFileName,\n                                lineNumber: 303,\n                                columnNumber: 37\n                              }, this)\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 302,\n                              columnNumber: 35\n                            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                              children: formatFileSize(file.file_size)\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 305,\n                              columnNumber: 35\n                            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                              children: formatDate(file.uploaded_at)\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 306,\n                              columnNumber: 35\n                            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                              children: /*#__PURE__*/_jsxDEV(Button, {\n                                variant: \"outline-primary\",\n                                size: \"sm\",\n                                onClick: () => handleDownloadFile(file.customer_id, file.filename, file.version),\n                                children: \"Download\"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 308,\n                                columnNumber: 37\n                              }, this)\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 307,\n                              columnNumber: 35\n                            }, this)]\n                          }, index, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 295,\n                            columnNumber: 33\n                          }, this))\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 293,\n                          columnNumber: 29\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 282,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 278,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 274,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 273,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 214,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 200,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      show: showCustomerModal,\n      onHide: () => setShowCustomerModal(false),\n      size: \"lg\",\n      children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n        closeButton: true,\n        children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n          children: [\"Files for \", selectedCustomer === null || selectedCustomer === void 0 ? void 0 : selectedCustomer.name, \" (\", selectedCustomer === null || selectedCustomer === void 0 ? void 0 : selectedCustomer.email, \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 344,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 343,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n        children: selectedCustomerFiles.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-muted\",\n          children: \"No files uploaded by this customer.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 350,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(Table, {\n          responsive: true,\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Filename\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 355,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Latest Version\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 356,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"File Size\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 357,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Uploaded\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 358,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Actions\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 359,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 354,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 353,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: selectedCustomerFiles.map((file, index) => /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: file.filename\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 365,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(Badge, {\n                  bg: \"primary\",\n                  children: [\"v\", file.latest_version]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 367,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 366,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: formatFileSize(file.file_size)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 369,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: formatDate(file.uploaded_at)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 370,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(Button, {\n                  variant: \"outline-primary\",\n                  size: \"sm\",\n                  onClick: () => handleDownloadFile(selectedCustomer.customer_id, file.filename, file.latest_version),\n                  children: \"Download Latest\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 372,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 371,\n                columnNumber: 21\n              }, this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 364,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 362,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 352,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 348,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 338,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 184,\n    columnNumber: 5\n  }, this);\n};\n_s(AdminDashboard, \"U0nwe4AvM7OTo+C74rhQs9D9l5Q=\");\n_c = AdminDashboard;\nexport default AdminDashboard;\nvar _c;\n$RefreshReg$(_c, \"AdminDashboard\");","map":{"version":3,"names":["React","useState","useEffect","axios","Card","Button","Table","Alert","Modal","Badge","Row","Col","Container","Nav","Tab","jsxDEV","_jsxDEV","AdminDashboard","_s","customers","setCustomers","files","setFiles","loading","setLoading","error","setError","activeTab","setActiveTab","showCustomerModal","setShowCustomerModal","selectedCustomer","setSelectedCustomer","selectedCustomerFiles","setSelectedCustomerFiles","selectedFile","setSelectedFile","versionNumber","setVersionNumber","uploading","setUploading","success","setSuccess","selectedCustomerForUpload","setSelectedCustomerForUpload","fetchData","customersResponse","filesResponse","Promise","all","get","data","handleViewCustomerFiles","customerId","response","find","c","customer_id","handleFileSelect","e","file","target","size","handleAdminUpload","preventDefault","trim","formData","FormData","append","post","headers","fileInput","document","querySelector","value","_error$response","_error$response$data","errorMessage","includes","numVersion","parseFloat","isNaN","toString","handleDownloadFile","filename","version","responseType","url","window","URL","createObjectURL","Blob","link","createElement","href","setAttribute","body","appendChild","click","remove","formatFileSize","bytes","k","sizes","i","Math","floor","log","pow","toFixed","formatDate","dateString","Date","toLocaleString","className","children","fileName","_jsxFileName","lineNumber","columnNumber","fluid","variant","onClose","dismissible","activeKey","onSelect","Item","Link","eventKey","length","Content","Pane","Header","Body","responsive","map","customer","index","bg","name","email","phone","address","created_at","onClick","file_size","uploaded_at","show","onHide","closeButton","Title","latest_version","_c","$RefreshReg$"],"sources":["/Users/nidhi/Documents/Inoweave/OnTheFlyUpdate/Code/cursor/frontend/src/components/AdminDashboard.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport {\n  Card,\n  Button,\n  Table,\n  Alert,\n  Modal,\n  Badge,\n  Row,\n  Col,\n  Container,\n  Nav,\n  Tab,\n} from \"react-bootstrap\";\n\nconst AdminDashboard = () => {\n  const [customers, setCustomers] = useState([]);\n  const [files, setFiles] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(\"\");\n  const [activeTab, setActiveTab] = useState(\"customers\");\n  const [showCustomerModal, setShowCustomerModal] = useState(false);\n  const [selectedCustomer, setSelectedCustomer] = useState(null);\n  const [selectedCustomerFiles, setSelectedCustomerFiles] = useState([]);\n\n  // File upload state\n  const [selectedFile, setSelectedFile] = useState(null);\n  const [versionNumber, setVersionNumber] = useState(\"\");\n  const [uploading, setUploading] = useState(false);\n  const [success, setSuccess] = useState(\"\");\n  const [selectedCustomerForUpload, setSelectedCustomerForUpload] =\n    useState(\"\");\n\n  useEffect(() => {\n    fetchData();\n  }, []);\n\n  const fetchData = async () => {\n    try {\n      const [customersResponse, filesResponse] = await Promise.all([\n        axios.get(\"/api/customers/\"),\n        axios.get(\"/api/files/all\"),\n      ]);\n\n      setCustomers(customersResponse.data);\n      setFiles(filesResponse.data);\n    } catch (error) {\n      setError(\"Failed to fetch data\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleViewCustomerFiles = async (customerId) => {\n    try {\n      const response = await axios.get(`/api/files/customer/${customerId}`);\n      setSelectedCustomerFiles(response.data);\n      setSelectedCustomer(customers.find((c) => c.customer_id === customerId));\n      setShowCustomerModal(true);\n    } catch (error) {\n      setError(\"Failed to fetch customer files\");\n    }\n  };\n\n  const handleFileSelect = (e) => {\n    const file = e.target.files[0];\n    if (file) {\n      if (file.size > 2 * 1024 * 1024) {\n        // 2MB limit\n        setError(\"File size must be less than 2MB\");\n        setSelectedFile(null);\n        return;\n      }\n      setSelectedFile(file);\n      setError(\"\");\n      setVersionNumber(\"1\");\n    }\n  };\n\n  const handleAdminUpload = async (e) => {\n    e.preventDefault();\n\n    if (!selectedFile) {\n      setError(\"Please select a file\");\n      return;\n    }\n\n    if (!selectedCustomerForUpload) {\n      setError(\"Please select a customer\");\n      return;\n    }\n\n    if (!versionNumber || versionNumber.trim() === \"\") {\n      setError(\"Please enter a version number\");\n      return;\n    }\n\n    setUploading(true);\n    setError(\"\");\n    setSuccess(\"\");\n\n    const formData = new FormData();\n    formData.append(\"file\", selectedFile);\n    formData.append(\"customer_id\", selectedCustomerForUpload);\n    formData.append(\"version\", versionNumber.trim());\n\n    try {\n      await axios.post(\"/api/files/admin/upload\", formData, {\n        headers: {\n          \"Content-Type\": \"multipart/form-data\",\n        },\n      });\n\n      setSuccess(\"File uploaded successfully!\");\n      setSelectedFile(null);\n      setVersionNumber(\"\");\n      setSelectedCustomerForUpload(\"\");\n      // Reset the file input\n      const fileInput = document.querySelector('input[type=\"file\"]');\n      if (fileInput) {\n        fileInput.value = \"\";\n      }\n      fetchData();\n    } catch (error) {\n      const errorMessage = error.response?.data?.error || \"Upload failed\";\n      setError(errorMessage);\n      \n      // If the error is about version already existing, suggest a new version\n      if (errorMessage.includes(\"already exists\") && errorMessage.includes(\"version\")) {\n        // Try to suggest next version\n        try {\n          const numVersion = parseFloat(versionNumber);\n          if (!isNaN(numVersion)) {\n            setVersionNumber((numVersion + 1).toString());\n          } else {\n            setVersionNumber(versionNumber + \"_1\");\n          }\n        } catch {\n          setVersionNumber(versionNumber + \"_1\");\n        }\n      }\n    } finally {\n      setUploading(false);\n    }\n  };\n\n  const handleDownloadFile = async (customerId, filename, version) => {\n    try {\n      const response = await axios.get(\n        `/api/files/download/${customerId}/${filename}/${version}`,\n        { responseType: \"blob\" }\n      );\n\n      const url = window.URL.createObjectURL(new Blob([response.data]));\n      const link = document.createElement(\"a\");\n      link.href = url;\n      link.setAttribute(\"download\", `${filename}_v${version}`);\n      document.body.appendChild(link);\n      link.click();\n      link.remove();\n    } catch (error) {\n      setError(\"Download failed\");\n    }\n  };\n\n  const formatFileSize = (bytes) => {\n    if (bytes === 0) return \"0 Bytes\";\n    const k = 1024;\n    const sizes = [\"Bytes\", \"KB\", \"MB\", \"GB\"];\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + \" \" + sizes[i];\n  };\n\n  const formatDate = (dateString) => {\n    return new Date(dateString).toLocaleString();\n  };\n\n  if (loading) {\n    return <div className=\"text-center\">Loading...</div>;\n  }\n\n  return (\n    <Container fluid>\n      <Row>\n        <Col>\n          <h2 className=\"mb-4\">Admin Dashboard</h2>\n\n          {error && (\n            <Alert variant=\"danger\" onClose={() => setError(\"\")} dismissible>\n              {error}\n            </Alert>\n          )}\n\n          <Tab.Container\n            activeKey={activeTab}\n            onSelect={(k) => setActiveTab(k)}\n          >\n            <Row>\n              <Col>\n                <Nav variant=\"tabs\" className=\"mb-4\">\n                  <Nav.Item>\n                    <Nav.Link eventKey=\"customers\">\n                      Customers ({customers.length})\n                    </Nav.Link>\n                  </Nav.Item>\n                  <Nav.Item>\n                    <Nav.Link eventKey=\"files\">\n                      All Files ({files.length})\n                    </Nav.Link>\n                  </Nav.Item>\n                </Nav>\n\n                <Tab.Content>\n                  <Tab.Pane eventKey=\"customers\">\n                    <Card>\n                      <Card.Header>\n                        <h5>Customer Management</h5>\n                      </Card.Header>\n                      <Card.Body>\n                        {customers.length === 0 ? (\n                          <p className=\"text-muted\">\n                            No customers registered yet.\n                          </p>\n                        ) : (\n                          <Table responsive>\n                            <thead>\n                              <tr>\n                                <th>Customer ID</th>\n                                <th>Name</th>\n                                <th>Email</th>\n                                <th>Phone</th>\n                                <th>Address</th>\n                                <th>Registered</th>\n                                <th>Actions</th>\n                              </tr>\n                            </thead>\n                            <tbody>\n                              {customers.map((customer, index) => (\n                                <tr key={index}>\n                                  <td>\n                                    <Badge bg=\"secondary\">\n                                      {customer.customer_id}\n                                    </Badge>\n                                  </td>\n                                  <td>{customer.name}</td>\n                                  <td>{customer.email}</td>\n                                  <td>{customer.phone}</td>\n                                  <td>{customer.address}</td>\n                                  <td>{formatDate(customer.created_at)}</td>\n                                  <td>\n                                    <Button\n                                      variant=\"outline-primary\"\n                                      size=\"sm\"\n                                      onClick={() =>\n                                        handleViewCustomerFiles(\n                                          customer.customer_id\n                                        )\n                                      }\n                                    >\n                                      View Files\n                                    </Button>\n                                  </td>\n                                </tr>\n                              ))}\n                            </tbody>\n                          </Table>\n                        )}\n                      </Card.Body>\n                    </Card>\n                  </Tab.Pane>\n\n                  <Tab.Pane eventKey=\"files\">\n                    <Card>\n                      <Card.Header>\n                        <h5>All Files</h5>\n                      </Card.Header>\n                      <Card.Body>\n                        {files.length === 0 ? (\n                          <p className=\"text-muted\">No files uploaded yet.</p>\n                        ) : (\n                          <Table responsive>\n                            <thead>\n                              <tr>\n                                <th>Customer ID</th>\n                                <th>Filename</th>\n                                <th>Version</th>\n                                <th>File Size</th>\n                                <th>Uploaded</th>\n                                <th>Actions</th>\n                              </tr>\n                            </thead>\n                            <tbody>\n                              {files.map((file, index) => (\n                                <tr key={index}>\n                                  <td>\n                                    <Badge bg=\"secondary\">\n                                      {file.customer_id}\n                                    </Badge>\n                                  </td>\n                                  <td>{file.filename}</td>\n                                  <td>\n                                    <Badge bg=\"primary\">v{file.version}</Badge>\n                                  </td>\n                                  <td>{formatFileSize(file.file_size)}</td>\n                                  <td>{formatDate(file.uploaded_at)}</td>\n                                  <td>\n                                    <Button\n                                      variant=\"outline-primary\"\n                                      size=\"sm\"\n                                      onClick={() =>\n                                        handleDownloadFile(\n                                          file.customer_id,\n                                          file.filename,\n                                          file.version\n                                        )\n                                      }\n                                    >\n                                      Download\n                                    </Button>\n                                  </td>\n                                </tr>\n                              ))}\n                            </tbody>\n                          </Table>\n                        )}\n                      </Card.Body>\n                    </Card>\n                  </Tab.Pane>\n                </Tab.Content>\n              </Col>\n            </Row>\n          </Tab.Container>\n        </Col>\n      </Row>\n\n      {/* Customer Files Modal */}\n      <Modal\n        show={showCustomerModal}\n        onHide={() => setShowCustomerModal(false)}\n        size=\"lg\"\n      >\n        <Modal.Header closeButton>\n          <Modal.Title>\n            Files for {selectedCustomer?.name} ({selectedCustomer?.email})\n          </Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          {selectedCustomerFiles.length === 0 ? (\n            <p className=\"text-muted\">No files uploaded by this customer.</p>\n          ) : (\n            <Table responsive>\n              <thead>\n                <tr>\n                  <th>Filename</th>\n                  <th>Latest Version</th>\n                  <th>File Size</th>\n                  <th>Uploaded</th>\n                  <th>Actions</th>\n                </tr>\n              </thead>\n              <tbody>\n                {selectedCustomerFiles.map((file, index) => (\n                  <tr key={index}>\n                    <td>{file.filename}</td>\n                    <td>\n                      <Badge bg=\"primary\">v{file.latest_version}</Badge>\n                    </td>\n                    <td>{formatFileSize(file.file_size)}</td>\n                    <td>{formatDate(file.uploaded_at)}</td>\n                    <td>\n                      <Button\n                        variant=\"outline-primary\"\n                        size=\"sm\"\n                        onClick={() =>\n                          handleDownloadFile(\n                            selectedCustomer.customer_id,\n                            file.filename,\n                            file.latest_version\n                          )\n                        }\n                      >\n                        Download Latest\n                      </Button>\n                    </td>\n                  </tr>\n                ))}\n              </tbody>\n            </Table>\n          )}\n        </Modal.Body>\n      </Modal>\n    </Container>\n  );\n};\n\nexport default AdminDashboard;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}